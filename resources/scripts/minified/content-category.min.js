"use strict";async function contentCategory(){try{await wp.api.loadPromise;const args={categories:category.id,per_page:category.perPage,_fields:"title,excerpt,link,date,featured_media,_links",_embed:"author,wp:featuredmedia,wp:term",_wpnonce:category.nonce},postsCollection=new wp.api.collections.Posts,posts=await postsCollection.fetch({data:args});posts.length&&cardDisplay(posts),postsCollection.hasMore()&&pagination(postsCollection)}catch(error){console.log(error)}}function cardDisplay(posts){const content=document.querySelector("#JS-content-category"),card=document.querySelector("#JS-content-category #JS-card-category");content.innerHTML="",posts.forEach((post=>{const link=post.link,title=post.title.rendered,date=new Date(post.date).toLocaleDateString("pt-BR"),excerpt=post.excerpt.rendered,authorName=post._embedded.author[0].name,authorLink=post._embedded.author[0].link,catName=post._embedded["wp:term"][0][0].name,catLink=post._embedded["wp:term"][0][0].link,mediaSrc=post.featured_media>0?post._embedded["wp:featuredmedia"][0].source_url:"https://source.unsplash.com/random",mediaAlt=post.featured_media>0?post._embedded["wp:featuredmedia"][0].alt_text:"Alt none",cardClone=card.cloneNode(!0);cardClone.childNodes[1].href=link??"#",cardClone.childNodes[1].childNodes[1].src=mediaSrc,cardClone.childNodes[1].childNodes[1].alt=mediaAlt,cardClone.childNodes[3].childNodes[1].firstElementChild.textContent=title??"title none",cardClone.childNodes[3].childNodes[1].href=link??"#",cardClone.childNodes[3].childNodes[3].textContent=date??"data none",cardClone.childNodes[3].childNodes[7].innerHTML=excerpt??"excerpt none",cardClone.childNodes[3].childNodes[9].textContent=authorName??"autor none",cardClone.childNodes[3].childNodes[9].href=authorLink??"#",cardClone.childNodes[3].childNodes[5].textContent=catName??"category none",cardClone.childNodes[3].childNodes[5].href=catLink??"#",content.appendChild(cardClone)}))}function pagination(postsCollection){const btnLoadMore=document.querySelector("#JS-load-category");btnLoadMore.style.opacity="block",btnLoadMore.addEventListener("click",(async()=>{cardDisplay(await postsCollection.more()),!1===postsCollection.hasMore()&&btnLoadMore.remove()}))}contentCategory();