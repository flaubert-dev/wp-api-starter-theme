"use strict";async function templateWpApiExample(){try{await wp.api.loadPromise;const args1={categories:objExample.catID_1,per_page:objExample.perPage_1,_fields:"title,excerpt,link,date,featured_media,_links",_embed:"author,wp:featuredmedia,wp:term",_wpnonce:objExample.nonce},postsCollection=new wp.api.collections.Posts,postsFirst=await postsCollection.fetch({data:args1});if(postsFirst.length>0)cardDisplay(postsFirst);else{document.querySelector("#JS-content-first").remove()}}catch(error){document.querySelector("#JS-content-first").remove(),console.warn(`${error} Check if all custom fields are filled in the template: WP API Example JS`)}}function cardDisplay(postsFirst){const contentFirst=document.querySelector("#JS-content-first"),cardFirst=document.querySelector("#JS-content-first #JS-card-category");contentFirst.innerHTML="",postsFirst.forEach((post=>{const link=post.link,title=post.title.rendered,date=new Date(post.date).toLocaleDateString("pt-BR"),excerpt=post.excerpt.rendered,authorName=post._embedded.author[0].name,authorLink=post._embedded.author[0].link,catName=post._embedded["wp:term"][0][0].name,catLink=post._embedded["wp:term"][0][0].link,mediaSrc=post.featured_media>0?post._embedded["wp:featuredmedia"][0].source_url:"https://source.unsplash.com/random",mediaAlt=post.featured_media>0?post._embedded["wp:featuredmedia"][0].alt_text:"Alt none",cardClone=cardFirst.cloneNode(!0);cardClone.childNodes[1].href=link??"#",cardClone.childNodes[1].childNodes[1].src=mediaSrc,cardClone.childNodes[1].childNodes[1].alt=mediaAlt,cardClone.childNodes[3].childNodes[1].firstElementChild.textContent=title??"title none",cardClone.childNodes[3].childNodes[1].href=link??"#",cardClone.childNodes[3].childNodes[3].textContent=date??"data none",cardClone.childNodes[3].childNodes[7].innerHTML=excerpt??"excerpt none",cardClone.childNodes[3].childNodes[9].textContent=authorName??"none",cardClone.childNodes[3].childNodes[9].href=authorLink??"#",cardClone.childNodes[3].childNodes[5].textContent=catName??"category none",cardClone.childNodes[3].childNodes[5].href=catLink??"#",contentFirst.appendChild(cardClone)}))}templateWpApiExample();